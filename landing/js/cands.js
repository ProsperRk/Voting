const data = [{
    "id": 1,
    "name": "Kayla Gamblin",
    "img": "https://robohash.org/eossuscipitveniam.png?size=50x50&set=set1",
    "category": "Secretary of Board",
    "bio": "Praesent id massa id nisl venenatis lacinia. Aenean sit amet justo. Morbi ut odio.\n\nCras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n\nProin interdum mauris non ligula pellentesque ultrices. Phasellus id sapien in sapien iaculis congue. Vivamus metus arcu, adipiscing molestie, hendrerit at, vulputate vitae, nisl.",
    "profile": {
      "telNum": "770-795-8808",
      "email": "kgamblin0@dedecms.com"
    }
  }, {
    "id": 2,
    "name": "Zoe Huxstep",
    "img": "https://robohash.org/ducimusexcepturilabore.png?size=50x50&set=set1",
    "category": "Speaker of Board",
    "bio": "Proin leo odio, porttitor id, consequat in, consequat ut, nulla. Sed accumsan felis. Ut at dolor quis odio consequat varius.",
    "profile": {
      "telNum": "492-885-9893",
      "email": "zhuxstep1@wikispaces.com"
    }
  }, {
    "id": 3,
    "name": "Zorana Dominy",
    "img": "https://robohash.org/quidemquisdolore.png?size=50x50&set=set1",
    "category": "Vice Speaker of Board",
    "bio": "Sed sagittis. Nam congue, risus semper porta volutpat, quam pede lobortis ligula, sit amet eleifend pede libero quis orci. Nullam molestie nibh in lectus.\n\nPellentesque at nulla. Suspendisse potenti. Cras in purus eu magna vulputate luctus.",
    "profile": {
      "telNum": "652-961-0709",
      "email": "zdominy2@hhs.gov"
    }
  }, {
    "id": 4,
    "name": "Annora Longina",
    "img": "https://robohash.org/temporenonmagni.png?size=50x50&set=set1",
    "category": "Guild President",
    "bio": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.",
    "profile": {
      "telNum": "824-522-9839",
      "email": "alongina3@nydailynews.com"
    }
  }, {
    "id": 5,
    "name": "Jannel Aikin",
    "img": "https://robohash.org/sedexcepturiet.png?size=50x50&set=set1",
    "category": "Speaker of Board",
    "bio": "Nullam porttitor lacus at turpis. Donec posuere metus vitae ipsum. Aliquam non mauris.",
    "profile": {
      "telNum": "404-726-6341",
      "email": "jaikin4@posterous.com"
    }
  }, {
    "id": 6,
    "name": "Alana Rankin",
    "img": "https://robohash.org/laboresuntconsectetur.png?size=50x50&set=set1",
    "category": "Vice Speaker of Board",
    "bio": "In congue. Etiam justo. Etiam pretium iaculis justo.\n\nIn hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.",
    "profile": {
      "telNum": "736-512-9021",
      "email": "arankin5@ucoz.ru"
    }
  }, {
    "id": 7,
    "name": "Wernher Vaud",
    "img": "https://robohash.org/abenimdignissimos.png?size=50x50&set=set1",
    "category": "Guild President",
    "bio": "Etiam vel augue. Vestibulum rutrum rutrum neque. Aenean auctor gravida sem.\n\nPraesent id massa id nisl venenatis lacinia. Aenean sit amet justo. Morbi ut odio.\n\nCras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",
    "profile": {
      "telNum": "410-865-0005",
      "email": "wvaud6@posterous.com"
    }
  }, {
    "id": 8,
    "name": "Gardener Burras",
    "img": "https://robohash.org/suntautearum.png?size=50x50&set=set1",
    "category": "Vice Guild President",
    "bio": "Morbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.",
    "profile": {
      "telNum": "486-947-0158",
      "email": "gburras7@shinystat.com"
    }
  }, {
    "id": 9,
    "name": "Julio Meltetal",
    "img": "https://robohash.org/officiisquiaet.png?size=50x50&set=set1",
    "category": "Speaker of Board",
    "bio": "Proin interdum mauris non ligula pellentesque ultrices. Phasellus id sapien in sapien iaculis congue. Vivamus metus arcu, adipiscing molestie, hendrerit at, vulputate vitae, nisl.\n\nAenean lectus. Pellentesque eget nunc. Donec quis orci eget orci vehicula condimentum.\n\nCurabitur in libero ut massa volutpat convallis. Morbi odio odio, elementum eu, interdum eu, tincidunt in, leo. Maecenas pulvinar lobortis est.",
    "profile": {
      "telNum": "289-922-1053",
      "email": "jmeltetal8@imgur.com"
    }
  }, {
    "id": 10,
    "name": "Ariela Hulson",
    "img": "https://robohash.org/quialiberoofficia.png?size=50x50&set=set1",
    "category": "General Secretary",
    "bio": "In congue. Etiam justo. Etiam pretium iaculis justo.",
    "profile": {
      "telNum": "648-715-5124",
      "email": "ahulson9@blinklist.com"
    }
  }, {
    "id": 11,
    "name": "Katalin Faires",
    "img": "https://robohash.org/magnametassumenda.png?size=50x50&set=set1",
    "category": "Secretary of Board",
    "bio": "Proin eu mi. Nulla ac enim. In tempor, turpis nec euismod scelerisque, quam turpis adipiscing lorem, vitae mattis nibh ligula nec sem.",
    "profile": {
      "telNum": "188-831-9176",
      "email": "kfairesa@harvard.edu"
    }
  }, {
    "id": 12,
    "name": "Nappy Fesby",
    "img": "https://robohash.org/quidignissimosrerum.png?size=50x50&set=set1",
    "category": "Vice Guild President",
    "bio": "Nullam porttitor lacus at turpis. Donec posuere metus vitae ipsum. Aliquam non mauris.",
    "profile": {
      "telNum": "757-483-5006",
      "email": "nfesbyb@scribd.com"
    }
  }, {
    "id": 13,
    "name": "Bili Lanegran",
    "img": "https://robohash.org/sedomnisvoluptatem.png?size=50x50&set=set1",
    "category": "General Secretary",
    "bio": "Duis bibendum, felis sed interdum venenatis, turpis enim blandit mi, in porttitor pede justo eu massa. Donec dapibus. Duis at velit eu est congue elementum.\n\nIn hac habitasse platea dictumst. Morbi vestibulum, velit id pretium iaculis, diam erat fermentum justo, nec condimentum neque sapien placerat ante. Nulla justo.",
    "profile": {
      "telNum": "969-642-3374",
      "email": "blanegranc@infoseek.co.jp"
    }
  }, {
    "id": 14,
    "name": "Caralie Nibley",
    "img": "https://robohash.org/autlaboriosamsunt.png?size=50x50&set=set1",
    "category": "Vice Guild President",
    "bio": "In congue. Etiam justo. Etiam pretium iaculis justo.",
    "profile": {
      "telNum": "333-714-7019",
      "email": "cnibleyd@sbwire.com"
    }
  }, {
    "id": 15,
    "name": "Harriette Doll",
    "img": "https://robohash.org/magnidolorumomnis.png?size=50x50&set=set1",
    "category": "Vice Guild President",
    "bio": "In quis justo. Maecenas rhoncus aliquam lacus. Morbi quis tortor id nulla ultrices aliquet.\n\nMaecenas leo odio, condimentum id, luctus nec, molestie sed, justo. Pellentesque viverra pede ac diam. Cras pellentesque volutpat dui.",
    "profile": {
      "telNum": "762-664-6091",
      "email": "hdolle@ihg.com"
    }
}];


const searchBar = document.getElementById("search");
const clearBtn = document.querySelector(".clear-icon");
const categoriesContainer = document.querySelector(".category-btns"); 
const candidatesContainer = document.querySelector(".candidates");




clearBtn.addEventListener("click", () => {
    searchBar.value = "";
});

const displayCandidates = (filteredData) => {
    candidatesContainer.innerHTML = filteredData.map((candidate) => 
    `
    <div class="candidate flex">
        <div class="candidate-top">
            <img src=${candidate.img} alt="">
            <h3 class="name">${candidate.name}</h3>
            <p>Running to be:</p>
            <p class="position">${candidate.category}</p>
        </div>
        <div class="candidate-bottom flex">
            <button class="btn">See Profile</button>
            <button class="btn" id="vote">Vote</button>
        </div>
    </div>
    `
    ).join("");
        
       
};




displayCandidates(data);

searchBar.addEventListener("keyup", (e) => {
    const searchValue = e.target.value.toLowerCase();
    
    if(searchValue) {
        displayCandidates(data.filter(candidate => candidate.name.toLocaleLowerCase().indexOf(searchValue) !== -1));
    }else {
        displayCandidates(data);
    }
});

const setCategory = () => {
    const allCats = data.map(candidate => candidate.category);
    const categories = ["All",...allCats.filter((item, i) => {
        return allCats.indexOf(item) === i;
    })];

    categoriesContainer.innerHTML = categories.map(cat => 
        `
        <button class="c-btn">${cat}</button>

        `
        ).join("");

        categoriesContainer.addEventListener("click", (e) => {
            const selectedCat = e.target.textContent;

            selectedCat === "All" ? displayCandidates(data) : displayCandidates(data.filter((candidate) => candidate.category === selectedCat));

        });
}

setCategory();